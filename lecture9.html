
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>\setcounter{chapter}{8} Panel Data &#8212; 计量经济学讲义</title>
    
  <link href="_static/css/theme.css" rel="stylesheet">
  <link href="_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="_static/exercise.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      
      
      <h1 class="site-logo" id="site-title">计量经济学讲义</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="intro.html">
   前言
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="lecture1-CN.html">
   1. 概率论
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lecture2-CN.html">
   2. 投影
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lecture3-CN.html">
   3. 最小二乘法：线性代数观点
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lecture4-CN.html">
   4. 最小二乘法: 有限样本理论
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lecture5-CN.html">
   5. 基本渐近理论
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lecture6-CN.html">
   6. 最小二乘法的渐近性质
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lecture8-CN.html">
   7. 假设检验
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/lecture9.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/zhentaoshi/metrics1-cn"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/zhentaoshi/metrics1-cn/issues/new?title=Issue%20on%20page%20%2Flecture9.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fixed-effect">
   Fixed Effect
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#random-effect">
   Random Effect
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#summary">
   Summary
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>\setcounter{chapter}{8}
Panel Data</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fixed-effect">
   Fixed Effect
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#random-effect">
   Random Effect
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#summary">
   Summary
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="setcounter-chapter-8-panel-data">
<h1>\setcounter{chapter}{8}
Panel Data<a class="headerlink" href="#setcounter-chapter-8-panel-data" title="Permalink to this headline">¶</a></h1>
<p>Economists mostly work with observational data. The data generation
process is out of the control of researchers. If we only have a cross
sectional dataset at hand, it is difficult to deal with heterogeneity
among the individuals. On the other hand, panel data offers a chance to
handle heterogeneity of some particular forms.</p>
<p>A panel dataset tracks the same individuals across time <span class="math notranslate nohighlight">\(t=1,\ldots,T\)</span>.
We assume the observations are independent across <span class="math notranslate nohighlight">\(i=1,\ldots,n\)</span>, while
we allow some form of dependence within a group across <span class="math notranslate nohighlight">\(t=1,\ldots,T\)</span>
for the same <span class="math notranslate nohighlight">\(i\)</span>. We maintain the linear equation
$<span class="math notranslate nohighlight">\(y_{it}=\beta_{1}+x_{it}'\beta_{2}+u_{it},\ i=1,\ldots,n;t=1,\ldots,T\label{eq:basic_eq}\)</span><span class="math notranslate nohighlight">\(
where \)</span>u_{it}=\alpha_{i}+\epsilon_{it}<span class="math notranslate nohighlight">\( is called the *composite error*.
Note that \)</span>\alpha_{i}<span class="math notranslate nohighlight">\( is the time-invariant unobserved heterogeneity,
while \)</span>\epsilon_{it}$ varies across individuals and time periods.</p>
<p>The most important techniques of panel data estimation are the fixed
effect regression and the random effect regression. The asymptotic
distributions of both estimators can be derived from knowledge about the
OLS regression. In this sense, panel data estimation becomes applied
examples of the theory that we have covered in this course. It
highlights the fundamental role of linear regression theory in
econometrics.</p>
<div class="section" id="fixed-effect">
<h2>Fixed Effect<a class="headerlink" href="#fixed-effect" title="Permalink to this headline">¶</a></h2>
<p>The unobservable individual-specific heterogeneity <span class="math notranslate nohighlight">\(\alpha_{i}\)</span> is
absorbed into the composite error <span class="math notranslate nohighlight">\(u_{it}=\alpha_{i}+\epsilon_{it}\)</span>. If
<span class="math notranslate nohighlight">\(\mathrm{cov}\left(\alpha_{i},x_{it}\right)=0\)</span>, the OLS is consistent;
otherwise the consistency breaks down. The fixed effect model allows
<span class="math notranslate nohighlight">\(\alpha_{i}\)</span> and <span class="math notranslate nohighlight">\(x_{it}\)</span> to be arbitrarily correlated. Let us rewrite
(<a class="reference external" href="#eq:basic_eq">[eq:basic_eq]</a>{reference-type=”ref”
reference=”eq:basic_eq”}) as
$<span class="math notranslate nohighlight">\(y_{it}=w_{it}'\boldsymbol{\beta}+u_{it},\label{eq:basic_eq2}\)</span><span class="math notranslate nohighlight">\( where
\)</span>\boldsymbol{\beta}=\left(\beta_{1},\beta_{2}’\right)’<span class="math notranslate nohighlight">\( and
\)</span>w_{it}=\left(1,x_{it}’\right)’<span class="math notranslate nohighlight">\( are \)</span>K+1<span class="math notranslate nohighlight">\( vectors, i.e.,
\)</span>\boldsymbol{\beta}<span class="math notranslate nohighlight">\( is the parameter including the intercept, and
\)</span>w_{it}$ is the explanatory variables including the constant.</p>
<p>Show that <span class="math notranslate nohighlight">\(\mathrm{cov}\left(\alpha_{i},x_{it}\right)\neq0\)</span>, running OLS
in (<a class="reference external" href="#eq:basic_eq2">[eq:basic_eq2]</a>{reference-type=”ref”
reference=”eq:basic_eq2”}) will deliver an inconsistent estimator.</p>
<p>While naively run OLS in the fixed effect model is inconsistent, the
trick to regain consistency is to eliminate <span class="math notranslate nohighlight">\(\alpha_{i}\)</span>. This section
develops the consistency and asymptotic distribution of the <em>within
estimator</em>, the default fixed-effect (FE) estimator. The within
estimator transforms the data by subtracting all the observable
variables by the corresponding group means. Averaging the <span class="math notranslate nohighlight">\(T\)</span> equations
of the original regression for the same <span class="math notranslate nohighlight">\(i\)</span>, we have
$<span class="math notranslate nohighlight">\(\overline{y}_{i}=\beta_{1}+\overline{x}_{i}'\beta_{2}+\bar{u}_{it}=\beta_{1}+\overline{x}_{i}'\beta_{2}+\alpha_{i}+\bar{\epsilon}_{it}.\label{eq:group_mean}\)</span><span class="math notranslate nohighlight">\(
where \)</span>\overline{y}<em>{i}=\frac{1}{T}\sum</em>{t=1}^{T}y_{it}<span class="math notranslate nohighlight">\(. Subtracting
the averaged equation from the original equation gives
\)</span><span class="math notranslate nohighlight">\(\tilde{y}_{it}=\tilde{x}_{it}'\beta_{2}+\tilde{\epsilon}_{it}\label{eq:FE_demean}\)</span><span class="math notranslate nohighlight">\(
where \)</span>\tilde{y}<em>{it}=y</em>{it}-\overline{y}<em>{i}<span class="math notranslate nohighlight">\(. We then run OLS with the
demeaned data, and obtain the within estimator
\)</span><span class="math notranslate nohighlight">\(\widehat{\beta}_{2}^{FE}=\left(\tilde{X}'\tilde{X}\right)^{-1}\tilde{X}'\tilde{y},\)</span><span class="math notranslate nohighlight">\(
where \)</span>\tilde{y}=\left(y</em>{it}\right)<em>{i,t}<span class="math notranslate nohighlight">\( stacks all the \)</span>nT<span class="math notranslate nohighlight">\(
observations into a vector, and similarly defined is \)</span>\tilde{X}<span class="math notranslate nohighlight">\( as an
\)</span>nT\times K<span class="math notranslate nohighlight">\( matrix, where \)</span>K<span class="math notranslate nohighlight">\( is the dimension of \)</span>\beta</em>{2}$.</p>
<p>We know that OLS would be consistent if
<span class="math notranslate nohighlight">\(E\left[\tilde{\epsilon}_{it}|\tilde{x}_{it}\right]=0\)</span>. Below we provide
a sufficient condition, which is often called <em>strict exogeneity</em>.</p>
<p><strong>Assumption FE.1</strong>
<span class="math notranslate nohighlight">\(E\left[\epsilon_{it}|\alpha_{i},\mathbf{x}_{i}\right]=0\)</span> where
<span class="math notranslate nohighlight">\(\mathbf{x}_{i}=\left(x_{i1},\ldots,x_{iT}\right)\)</span>.</p>
<p>Its strictness is relative to the contemporary exogeneity
<span class="math notranslate nohighlight">\(E\left[\epsilon_{it}|\alpha_{i},x_{it}\right]=0\)</span>. FE.1 is more
restrictive as it assumes that the error <span class="math notranslate nohighlight">\(\epsilon_{it}\)</span> is mean
independent of the past, present and future explanatory variables.</p>
<p>When we talk about the consistency in panel data, typically we are
considering <span class="math notranslate nohighlight">\(n\to\infty\)</span> while <span class="math notranslate nohighlight">\(T\)</span> stays fixed. This asymptotic
framework is appropriate for panel datasets with many individuals but
only a few time periods.</p>
<p><strong>Proposition</strong> If FE.1 is satisfied, then <span class="math notranslate nohighlight">\(\widehat{\beta}_{2}^{FE}\)</span> is
consistent.</p>
<p>The variance estimation for the FE estimator is a little bit tricky. We
assume a homoskedasitcity condition to simplify the calculation.
Violation of this assumption changes the form of the asymptotic
variance, but does not jeopardize the asymptotic normality.</p>
<p><strong>Assumption FE.2</strong>
<span class="math notranslate nohighlight">\(\mathrm{var}\left(\epsilon_{i}|\alpha_{i},\mathbf{x}_{i}\right)=\sigma_{\epsilon}^{2}I_{T}\)</span>
for all <span class="math notranslate nohighlight">\(i\)</span>.</p>
<p>Under FE.1 and FE.2,
<span class="math notranslate nohighlight">\(\widehat{\sigma}_{\epsilon}^{2}=\frac{1}{n\left(T-1\right)}\sum_{i=1}^{n}\sum_{t=1}^{T}\widehat{\tilde{\epsilon}}_{it}^{2}\)</span>
is a consistent estimator of <span class="math notranslate nohighlight">\(\sigma_{\epsilon}^{2}\)</span>, where
<span class="math notranslate nohighlight">\(\widehat{\tilde{\epsilon}}=\tilde{y}_{it}-\tilde{x}_{it}'\widehat{\beta}_{2}^{FE}\)</span>.
Note that the denominator is <span class="math notranslate nohighlight">\(n\left(T-1\right)\)</span>, not <span class="math notranslate nohighlight">\(nT\)</span>. The
necessity of adjusting the degree of freedom can be easily seen from the
FWL theorem: the FE estimator for the slope coefficient is numerical the
same as its counterpart in the full regression with a dummy variable for
each cross sectional unit.</p>
<p>If FE.1 and FE.2 are satisfied, then
$<span class="math notranslate nohighlight">\(\left(\widehat{\sigma}_{\epsilon}^{2}\left(\tilde{X}'\tilde{X}\right)^{-1}\right)^{-1/2}\left(\widehat{\beta}_{2}^{FE}-\beta_{2}^{0}\right)\stackrel{d}{\to}N\left(0,I_{K}\right).\)</span>$</p>
<p>Let <span class="math notranslate nohighlight">\(M_{\iota}=I_{T}-\frac{1}{T}\iota_{T}\iota_{T}'\)</span> be the within-group
demeaner, and <span class="math notranslate nohighlight">\(M=I_{n}\otimes M_{\iota}\)</span> (“<span class="math notranslate nohighlight">\(\otimes\)</span>” denotes the
Kronecker product). The FE estimator can be explicitly written as
$<span class="math notranslate nohighlight">\(\widehat{\beta}_{2}^{FE}=\left(\tilde{X}'\tilde{X}\right)^{-1}\tilde{X}'\tilde{Y}=\left(X'MX\right)^{-1}X'MY.\)</span><span class="math notranslate nohighlight">\(
So
\)</span><span class="math notranslate nohighlight">\(\sqrt{nT}\left(\widehat{\beta}_{2}^{FE}-\beta_{2}^{0}\right)=\left(\frac{X'MX}{nT}\right)^{-1}\frac{X'M\epsilon}{\sqrt{nT}}=\left(\frac{\tilde{X}'\tilde{X}}{nT}\right)^{-1}\frac{\tilde{X}'\epsilon}{\sqrt{nT}}\)</span><span class="math notranslate nohighlight">\(
Since \)</span><span class="math notranslate nohighlight">\(\begin{aligned}
\mathrm{var}\left(\frac{\tilde{X}'\epsilon}{\sqrt{nT}}|X\right) &amp; =\frac{1}{nT}E\left(X'M\epsilon\epsilon'MX|X\right)=\frac{1}{nT}X'ME\left(\epsilon\epsilon'|X\right)MX=\left(\frac{\tilde{X}'\tilde{X}}{nT}\right)\sigma^{2},\end{aligned}\)</span><span class="math notranslate nohighlight">\(
We apply a law of large numbers and conclude
\)</span><span class="math notranslate nohighlight">\(\left(\tilde{X}'\tilde{X}\right)^{1/2}\left(\widehat{\beta}_{2}^{FE}-\beta_{2}^{0}\right)\stackrel{d}{\to}N\left(0,\sigma_{\epsilon}^{2}I_{K}\right).\)</span><span class="math notranslate nohighlight">\(
For simplicity, suppose we can direct observe \)</span>\tilde{\epsilon}<em>{it}<span class="math notranslate nohighlight">\(.
Then \)</span><span class="math notranslate nohighlight">\(\begin{aligned}
\frac{1}{n\left(T-1\right)}E\left[\sum_{i=1}^{n}\sum_{t=1}^{T}\tilde{\epsilon}_{it}^{2}\right] &amp; =\frac{1}{n}\sum_{i=1}^{n}\frac{1}{T-1}E\left[\epsilon_{i}'M_{\iota}\epsilon_{i}\right]\\
 &amp; =\frac{1}{n}\sum_{i=1}^{n}\frac{1}{T-1}\mathrm{tr}\left(E\left[M_{\iota}E\left[\epsilon_{i}\epsilon_{i}'|\mathbf{x}_{i}\right]\right]\right)\\
 &amp; =\frac{\sigma_{\epsilon}^{2}}{n}\sum_{i=1}^{n}\frac{1}{T-1}\mathrm{tr}\left(M_{\iota}\right)=\sigma_{\epsilon}^{2}.\end{aligned}\)</span><span class="math notranslate nohighlight">\(
Although in reality we only observe \)</span>\widehat{\tilde{\epsilon}}</em>{it}<span class="math notranslate nohighlight">\(,
we can show that the estimation error between
\)</span>\widehat{\tilde{\epsilon}}<em>{it}<span class="math notranslate nohighlight">\( and \)</span>\tilde{\epsilon}</em>{it}<span class="math notranslate nohighlight">\( is
negligible. Thus by the law of large numbers
\)</span><span class="math notranslate nohighlight">\(\widehat{\sigma}_{\epsilon}^{2}=\frac{1}{n\left(T-1\right)}\sum_{i=1}^{n}\sum_{t=1}^{T}\widehat{\tilde{\epsilon}}_{it}^{2}\stackrel{d}{\to}\frac{1}{n\left(T-1\right)}E\left[\sum_{i=1}^{n}\sum_{t=1}^{T}\tilde{\epsilon}_{it}^{2}\right]=\sigma_{\epsilon}^{2}\)</span>$
is a consistent estimator of the variance. The stated conclusion
follows.</p>
<p>We implicitly assume regularity conditions that allow us to invoke a law
of large numbers and a central limit theorem. We ignore those technical
details here.</p>
<p>It is important to notice that the within-group demean in FE eliminates
all time-invariant explanatory variables, including the intercept.
Therefore from FE we cannot obtain the coefficient estimates of these
time-invariant variables.</p>
</div>
<div class="section" id="random-effect">
<h2>Random Effect<a class="headerlink" href="#random-effect" title="Permalink to this headline">¶</a></h2>
<p>The random effect estimator pursues efficiency at a knife-edge special
case <span class="math notranslate nohighlight">\(\mathrm{cov}\left(\alpha_{i},x_{it}\right)=0\)</span>. As mentioned above,
FE is consistent when <span class="math notranslate nohighlight">\(\alpha_{i}\)</span> and <span class="math notranslate nohighlight">\(x_{it}\)</span> are uncorrelated.
However, an inspection of the covariance matrix reveals that OLS is
inefficient.</p>
<p>The starting point is again the original model, while we assume</p>
<p><strong>Assumption RE.1</strong>
<span class="math notranslate nohighlight">\(E\left[\epsilon_{it}|\alpha_{i},\mathbf{x}_{i}\right]=0\)</span> and
<span class="math notranslate nohighlight">\(E\left[\alpha_{i}|\mathbf{x}_{i}\right]=0\)</span>.</p>
<p>RE.1 obviously implies <span class="math notranslate nohighlight">\(\mathrm{cov}\left(\alpha_{i},x_{it}\right)=0\)</span>,
so
$<span class="math notranslate nohighlight">\(S=\mathrm{var}\left(u_{i}|\mathbf{x}_{i}\right)=\sigma_{\alpha}^{2}\mathbf{1}_{T}\mathbf{1}_{T}'+\sigma_{\epsilon}^{2}I_{T},\ \mbox{for all }i=1,\ldots,n.\)</span>$
Because the covariance matrix is not a scalar multiplication of the
identity matrix, OLS is inefficient.</p>
<p>As mentioned before, FE estimation kills all time-invariant regressors.
In contrast, RE allows time-invariant explanatory variables. The
infeasible GLS estimator is
$<span class="math notranslate nohighlight">\(\widehat{\boldsymbol{\beta}}_{\mathrm{infeasible}}^{RE}=\left(\sum_{i=1}^{n}\mathbf{w}_{i}'S^{-1}\mathbf{w}_{i}\right)^{-1}\sum_{i=1}^{n}\mathbf{w}_{i}'S^{-1}\mathbf{y}_{i}=\left(W'\mathbf{S}^{-1}W\right)^{-1}W'\mathbf{S}^{-1}y\)</span><span class="math notranslate nohighlight">\(
where \)</span>\mathbf{S}=I_{T}\otimes S<span class="math notranslate nohighlight">\(. In practice, \)</span>\sigma_{\alpha}^{2}<span class="math notranslate nohighlight">\(
and \)</span>\sigma_{\epsilon}^{2}<span class="math notranslate nohighlight">\( in \)</span>S$ are unknown, so we seek consistent
estimators. Again, we impose a simplifying assumption parallel to FE.2.</p>
<p><strong>Assumption RE.2</strong>
<span class="math notranslate nohighlight">\(\mathrm{var}\left(\epsilon_{i}|\mathbf{x}_{i},\alpha_{i}\right)=\sigma_{\epsilon}^{2}I_{T}\)</span>
and
<span class="math notranslate nohighlight">\(\mathrm{var}\left(\alpha_{i}|\mathbf{x}_{i}\right)=\sigma_{\alpha}^{2}.\)</span></p>
<p>Under this assumption, we can consistently estimate the variances from
the residuals
<span class="math notranslate nohighlight">\(\widehat{u}_{it}=y_{it}-x_{it}'\widehat{\boldsymbol{\beta}}^{RE}\)</span>. That
is
$<span class="math notranslate nohighlight">\(\begin{aligned}\widehat{\sigma}_{u}^{2} &amp; =\frac{1}{nT}\sum_{i=1}^{n}\sum_{t=1}^{T}\widehat{u}_{it}^{2}\\
\widehat{\sigma}_{\alpha}^{2} &amp; =\frac{1}{n}\sum_{i=1}^{n}\frac{1}{T\left(T-1\right)}\sum_{t=1}^{T}\sum_{r=1}^{T}\sum_{r\neq t}\widehat{u}_{it}\widehat{u}_{ir}.
\end{aligned}\)</span><span class="math notranslate nohighlight">\( Given the estimated variance and covariance, we can
construct
\)</span>\widehat{\mathbf{S}}=\left(\widehat{\sigma}<em>{u}^{2}-\widehat{\sigma}</em>{\epsilon}^{2}\right)\cdot I_{T}+\widehat{\sigma}<em>{\epsilon}^{2}\cdot\boldsymbol{1}</em>{T}\boldsymbol{1}_{T}’<span class="math notranslate nohighlight">\(
and then follows the feasible GLS (FGLS)
\)</span><span class="math notranslate nohighlight">\(\widehat{\boldsymbol{\beta}}^{RE}=\left(W'\mathbf{\widehat{S}}^{-1}W\right)^{-1}W'\widehat{\mathbf{S}}^{-1}y\)</span>$</p>
<p>Show that if RE.1 and RE.2 are satisfied, then
$<span class="math notranslate nohighlight">\(\left(\widehat{\sigma}_{u}^{2}\left(W'\widehat{\mathbf{S}}^{-1}W\right)^{-1}\right)^{-1/2}\left(\widehat{\boldsymbol{\beta}}^{RE}-\boldsymbol{\beta}_{0}\right)\stackrel{d}{\to}N\left(0,I_{K+1}\right).\)</span>$</p>
<p>In econometrics practice, the FE estimator is more popular than the RE
estimator as the former is consistent in more general conditions.</p>
</div>
<div class="section" id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>The formula of the FE estimator or the RE estimators is not important
because the estimation and inference are automatically handled by
econometric packages. What is important is the conceptual difference of
FE and RE on their treatment of the unobservable individual
heterogeneity.</p>
<p>Panel data is the first generation of economic “big data”, as the number
of observations of a cross section is multiplied by the number of time
periods. It reflected econometrician’s pursuit of controlling
heterogeneity, so that the OLS estimate is more credible for causal
interpretation.</p>
<p><strong>Further reading</strong>: &#64;hsiao2014analysis is a comprehensive monograph on
the topic of panel data. &#64;su2016identifying extends fixed effect models
to incorporate group heterogeneity.</p>
<p>\bigskip
<code class="docutils literal notranslate"> <span class="pre">Zhentao</span> <span class="pre">Shi.</span> <span class="pre">Nov</span> <span class="pre">8,</span> <span class="pre">2020.</span></code></p>
<p>\bibliographystyle{chicagoa}</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By 史震涛 Shi Zhentao<br/>
    
        &copy; Copyright 2022.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>